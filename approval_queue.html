<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Approval Queue • Fastrans Accounting</title>
  <link rel="stylesheet" href="assets/css/styles.css?v=24"/>
  <script defer src="assets/js/app.js?v=24"></script>
</head>
<body>
  <div class="container">
    
<div class="sidebar">
  <div class="brand">
    <div class="logo"></div>
    <div>
      <h1>Fastrans Accounting</h1>
      <p>Singapore-compliant • Audit-ready</p>
    </div>
  </div>

  <div class="nav">
    <div class="section">Core</div>
    <a href="dashboard.html"><span>Dashboard</span><span class="badge">Home</span></a>
    <a href="bank_recon.html"><span>Bank Reconciliation</span><span class="badge">Auto</span></a>


    <a href="sales_order_upload.html"><span>Costing Sheet Upload</span><span class="badge">SO</span></a>
    <a href="create_invoice.html"><span>Create Invoice</span><span class="badge">INV</span></a>

    <a href="receive_payment.html"><span>Receive Payment</span><span class="badge">AR</span></a>

    <a href="unapplied_receipts.html"><span>Unapplied Receipts</span><span class="badge">Prepay</span></a>
    <a href="overpayment_refund.html"><span>Overpayment Refund</span><span class="badge">RFND</span></a>
    <a href="payment_allocation_history.html"><span>Allocation History</span><span class="badge">Audit</span></a>
    <a href="pay_bills.html"><span>Pay Bills</span><span class="badge">AP</span></a>
    <a href="credit_note.html"><span>Credit Notes</span><span class="badge">CN</span></a>

    <a href="supplier_doc_upload.html"><span>Supplier Document Upload</span><span class="badge">BILL</span></a>
    <a href="create_bill.html"><span>Create Supplier Bill</span><span class="badge">AP</span></a>
    <a href="debit_note.html"><span>Debit Notes</span><span class="badge">DN</span></a>

    <a href="customers.html"><span>Customers</span><span class="badge">Master</span></a>
    <a href="customer_ledger.html"><span>Customer Ledger</span><span class="badge">AR</span></a>

    <a href="suppliers.html"><span>Suppliers</span><span class="badge">Master</span></a>
    <a href="supplier_ledger.html"><span>Supplier Ledger</span><span class="badge">AP</span></a>

    <a href="soa.html"><span>Statements (SOA)</span><span class="badge">Email</span></a>

    <div class="section">Compliance</div>
    <a href="gst.html"><span>GST Form 5 & Reconciliation</span><span class="badge">IRAS</span></a>
    <a href="payroll.html"><span>Payroll</span><span class="badge">Monthly</span></a>
    <a href="payslips.html"><span>Payslips</span><span class="badge">PDF</span></a>
    <a href="ir8a.html"><span>IR8A (Auto)</span><span class="badge">YA</span></a>
    <a href="corp_tax.html"><span>Corporate Tax</span><span class="badge">IRAS</span></a>
    <a href="acra_reports.html"><span>ACRA Financial Statements</span><span class="badge">ACRA</span></a>

    <div class="section">Audit</div>
    <a href="auditor_pack.html"><span>Auditor Pack</span><span class="badge">FY</span></a>
    <a href="reports_opening_balance_tieout.html"><span>Opening Balance Tie-Out</span><span class="badge">OB</span></a>
    <a href="approval_queue.html"><span>Approval Queue</span><span class="badge">QA</span></a>
    <a href="approval_audit_trail.html"><span>Approval Audit Trail</span><span class="badge">Rpt</span></a>
    <a href="audit_trail.html"><span>Audit Trail</span><span class="badge">Log</span></a>

    <div class="section">Documents</div>
    <a href="supplier_inbox.html"><span>Supplier Invoice Inbox</span><span class="badge">Upload</span></a>

    <div class="section">Cashflow</div>



<div class="section">CFO Analytics</div>
    <a href="cfo_financial_overview.html"><span>Financial Overview</span><span class="badge">FO</span></a>
    <a href="cfo_budget_overview.html"><span>Budget Overview</span><span class="badge">BO</span></a>
    <a href="cfo_income_statement.html"><span>Income Statement</span><span class="badge">IS</span></a>
    <a href="cfo_balance_sheet.html"><span>Balance Sheet</span><span class="badge">BS</span></a>
    <a href="cfo_cashflow_intelligence.html"><span>Cashflow Intelligence</span><span class="badge">CF</span></a>
    <a href="cfo_profitability.html"><span>Profitability</span><span class="badge">GM</span></a>
    <a href="cfo_expense.html"><span>Expense Analytics</span><span class="badge">Exp</span></a>
    <a href="cfo_ar_risk.html"><span>AR Risk</span><span class="badge">AR</span></a>
    <a href="cfo_ap_exposure.html"><span>AP Exposure</span><span class="badge">AP</span></a>
    <a href="cfo_ratios.html"><span>Ratios</span><span class="badge">Fx</span></a>
    <a href="cfo_budget_vs_actual.html"><span>Budget vs Actual (Detail)</span><span class="badge">BvA</span></a>

<div class="section">Reports</div>
    <a href="general_ledger.html"><span>General Ledger</span><span class="badge">GL</span></a>
    <a href="opening_balance_journal.html"><span>Opening Balance Journal</span><span class="badge">OB</span></a>
    <a href="period_lock.html"><span>Period Lock</span><span class="badge">Lock</span></a>
    <a href="reports_cashflow_statement.html"><span>Cashflow Statement</span><span class="badge">ACRA</span></a>
    <a href="reports_statement_changes_equity.html"><span>Changes in Equity</span><span class="badge">ACRA</span></a>
    <a href="reports.html"><span>Reports Dashboard</span><span class="badge">All</span></a>
    <a href="reports_trial_balance.html"><span>Trial Balance</span><span class="badge">TB</span></a>
    <a href="reports_pl.html"><span>Profit &amp; Loss</span><span class="badge">P&amp;L</span></a>
    <a href="reports_bs.html"><span>Balance Sheet</span><span class="badge">BS</span></a>
    <a href="reports_gst_summary.html"><span>GST Summary</span><span class="badge">GST</span></a>
    <a href="reports_gst_recon.html"><span>GST Reconciliation</span><span class="badge">Diff</span></a>
    <a href="reports_ar_ageing.html"><span>AR Ageing</span><span class="badge">AR</span></a>
    <a href="reports_ap_ageing.html"><span>AP Ageing</span><span class="badge">AP</span></a>
    <a href="reports_bank_recon_summary.html"><span>Bank Recon Summary</span><span class="badge">Bank</span></a>
    <a href="reports_payroll_summary.html"><span>Payroll Summary</span><span class="badge">Pay</span></a>

    <div class="section">Migration</div>
    <a href="migration.html"><span>Data Migration</span><span class="badge">Imp</span></a>
    <a href="import_coa.html"><span>Import COA</span><span class="badge">COA</span></a>
    <a href="coa_mapping.html"><span>COA Mapping</span><span class="badge">Map</span></a>
    <a href="import_customers.html"><span>Import Customers</span><span class="badge">CUST</span></a>
    <a href="import_suppliers.html"><span>Import Suppliers</span><span class="badge">SUP</span></a>
    <a href="opening_balances.html"><span>Opening Balances</span><span class="badge">OB</span></a>
    <a href="import_transactions.html"><span>Import Transactions</span><span class="badge">GL</span></a>
    <a href="unmapped_accounts_report.html"><span>Unmapped Accounts</span><span class="badge">Sign</span></a>
    <a href="import_history.html"><span>Import History</span><span class="badge">Log</span></a>
    <a href="migration_validation.html"><span>Validation Report</span><span class="badge">Chk</span></a>

    <div class="section">Settings</div>
    <a href="settings.html"><span>Company Settings</span><span class="badge">Admin</span></a>
  </div>
</div>

  <main class="main">
      <div class="topbar">
        <div class="page-title">
          <h2>Approval Queue</h2>
          <p>Approve extracted / auto-matched items before posting. Enable automation later.</p>
        </div>
        
<div class="grid">
  <section class="card" style="grid-column:span 12;">
    <div class="hd"><h3>Approval Queue</h3><span class="pill warn">Controls</span></div>
    <div class="bd">
      <div class="notice">
        <div class="title">Before auto-posting</div>
        <div class="muted">During the initial period, all extracted/auto-matched items should be <b>approved</b> before posting. Later you can enable automation.</div>
      </div>

      <div class="hr"></div>

      <div class="lock-banner" data-posting-banner style="border-style:solid;">
        <div class="left">
          <div class="title">Posting Policy</div>
          <div class="mini" data-posting-text>Loading policy…</div>
        </div>
        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
          <span class="status warn" data-posting-badge>APPROVAL</span>
          <button class="btn" onclick="window.location.href='posting_controls.html'">Posting Controls</button>
        </div>
      </div>

      <div class="hr"></div>

      <div class="form">
        <div class="field"><label>Filter</label>
          <select>
            <option>Pending</option>
            <option>Approved</option>
            <option>Posted</option>
            <option>Rejected</option>
            <option>All</option>
          </select>
        </div>
        <div class="field"><label>Type</label>
          <select>
            <option>All</option>
            <option>Bank Recon</option>
            <option>Supplier Bill</option>
            <option>Costing Sheet → Invoice</option>
          </select>
        </div>
        <div class="field full">
          <button class="btn primary" onclick="renderApprovalQueue()">Refresh</button>
          <button class="btn" onclick="APP.toast('Placeholder: export approval log')">Export Log</button>
        </div>
      </div>

      <div class="hr"></div>

      <table class="table" id="approvalTable">
        <thead><tr><th>ID</th><th>Type</th><th>Reference</th><th class="right">Amount</th><th>Status</th><th>Actions</th></tr></thead>
        <tbody><tr><td colspan="6" class="mini">Loading…</td></tr></tbody>
      </table>

      <script>
        document.addEventListener('DOMContentLoaded', ()=>{
          if(window.renderApprovalQueue) renderApprovalQueue();
        });
      </script>

      <div class="hr"></div>
      
<div class="modal-backdrop" id="approvalModalBackdrop" onclick="if(event.target===this) closeApprovalModal()">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Approval details">
    <div class="mhd">
      <div style="display:flex; flex-direction:column; gap:2px;">
        <div style="font-weight:900;">Action: <span id="am_action">Approve</span> • <span class="code" id="am_id">AQ-0000</span></div>
        <div class="mini">Capture approver, timestamp, and comments for audit trail.</div>
      </div>
      <button class="x" onclick="closeApprovalModal()">×</button>
    </div>
    <div class="mbd">
      <div class="form">
        <div class="field"><label>Approver Name</label><input id="am_approver" placeholder="e.g. Manager / Auditor"/></div>
        <div class="field"><label>Timestamp</label><input id="am_time" placeholder="YYYY-MM-DD HH:MM:SS"/></div>
        <div class="field full"><label>Comments</label><textarea id="am_comments" rows="3" placeholder="Reason / review notes / exceptions"></textarea></div>
      </div>
    </div>
    <div class="mft">
      <button class="btn" onclick="closeApprovalModal()">Cancel</button>
      <button class="btn primary" onclick="commitApprovalAction()">Confirm</button>
    </div>
  </div>
</div>

<div class="mini">In production: approval creates an immutable audit trail (who approved, when, changes, and posted journal ref).</div>
    </div>
  </section>
</div>


      <div class="hr"></div>
      <div class="footer-note">Static UI demo • All actions are placeholders (no backend). Ready for Django integration.</div>
    </main>
  </div>
</body>
</html>
